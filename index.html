<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Section Form</title>
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container mt-5 card" style="width: 50%">
      <div class="p-5">
        <h2 class="card-title text-center text-primary">Form</h2>

        <form id="multiSectionForm" onsubmit="submitForm(event)">
          <!-- Section 1 -->
          <div class="section" id="section1">
            <div class="form-group">
              <label for="name">Name:</label>
              <input name="name" type="text" id="name" class="form-control" />
            </div>
            <div class="form-group">
              <label for="age">Age:</label>
              <input
                name="number"
                type="number"
                id="age"
                class="form-control"
              />
            </div>
            <div class="d-flex justify-content-end">
              <button
                type="button"
                class="btn btn-primary"
                onclick="nextSection(2)"
              >
                Next
              </button>
            </div>
          </div>

          <!-- Section 2 -->
          <div class="section d-none" id="section2">
            <div class="form-group">
              <label for="email">Email:</label>
              <input
                name="email"
                type="email"
                id="email"
                class="form-control"
              />
            </div>
            <div class="form-group">
              <label for="phone">Phone Number:</label>
              <input name="phone" type="tel" id="phone" class="form-control" />
            </div>
            <div class="form-group pl-4">
              <div class="d-flex align-items-center">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value="male"
                  id="male"
                />
                <label class="form-check-label" for="male"> Male </label>
              </div>
              <div class="d-flex align-items-center">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value="female"
                  id="female"
                />
                <label class="form-check-label" for="female"> Female </label>
              </div>
            </div>
            <div class="d-flex justify-content-between">
              <button
                type="button"
                class="btn btn-secondary"
                onclick="prevSection(1)"
              >
                Previous
              </button>
              <button
                type="button"
                class="btn btn-success"
                onclick="nextSection(3)"
              >
                Next
              </button>
            </div>
          </div>

          <!-- Section 3 -->
          <div class="section d-none" id="section3">
            <div class="form-group">
              <label for="feedback" >Feedback:</label>
              <textarea
                name="feedback"
                id="feedback"
                rows="4"
                class="form-control"
              ></textarea>
            </div>
            <div class="d-flex justify-content-between">
              <button
                type="button"
                class="btn btn-secondary"
                onclick="prevSection(2)"
              >
                Previous
              </button>
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </div>
        
        <!-- section4 -->
        <div class="section card-title d-none" id="section4">
          <h2 class="text-center text-uppercase text-primary">
            your informations
          </h2>
          <div class="name pt-5 d-flex align-items-center">
            <h2>Name:</h2>
            <p id="name-info" class="m-0 pl-4"></p>
          </div>
          <div class="age d-flex align-items-center">
            <h2>Age:</h2>
            <p id="age-info" class="m-0 pl-4"></p>
          </div>
          <div class="email d-flex align-items-center">
            <h2>Email:</h2>
            <p id="email-info" class="m-0 pl-4"></p>
          </div>
          <div class="phone d-flex align-items-center">
            <h2>Phone Number:</h2>
            <p id="phone-info" class="m-0 pl-4"></p>
          </div>
          <div class="phone d-flex align-items-center">
            <h2>Feedback:</h2>
            <p id="feedback-info" class="m-0 pl-4"></p>
          </div>
          <div class="phone d-flex align-items-center">
            <h2>Gender:</h2>
            <p id="gender-info" class="m-0 pl-4"></p>
          </div>
          <div class="d-flex justify-content-between">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="prevSection(3)"
            >
              Previous
            </button>

            <button
              type="button"
              class="btn btn-primary"
              onclick="confirmation()"
            >
              confirmation
            </button>
          </div>
        </div>
        </form>
      </div>
    </div>

    <!-- JavaScript for Navigation -->
    <script>
      // declaration  of  variables
      let input = document.querySelectorAll("input");
      const nameInfo = document.getElementById("name");
      const ageInfo = document.getElementById("age");
      const emailInfo = document.getElementById("email");
      const phoneInfo = document.getElementById("phone");
      const feedbackInfos = document.getElementById("feedback");
      let genderInfo;
      let validate = true;
      
      //validation
     document.querySelectorAll("input").forEach((el) => {
  el.addEventListener("input", () => {
    if (el.id === "name") {
      validateName(el.value);
    } else if (el.id === "email") {
     
validateEmail(el.value);
    } else if (el.id === "feedback") {
      validateFeedback(el.value);
    }
  });
});



// validate name
function validateName(name) {
  const namePattern = /^[A-Za-z\s]+$/; // Only letters and spaces
  if (!namePattern.test(name)||name.trim() === "") {
    // Invalid name
    nameInfo.style.boxShadow = "1px 1px 8px  #b510107a";
    nameInfo.style.border = ".7px solid #b510107a";
    validate = false;
  } else {
    // Valid name
    nameInfo.style.boxShadow = "0 0 0 .2rem #28a74533"; 
    nameInfo.style.border = "1px solid #3fef0a";
    validate = true;
  }
}
// validate email

function validateEmail(email) {
  const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Basic email pattern
if (email.trim() === "") {
    // Default style when empty
    emailInfo.style.boxShadow = "0 0 0 .2rem #007bff40";
    emailInfo.style.border = "1px solid #80bdff";
        validate = false;

  } else if (!emailPattern.test(email)) {
    // Invalid name
emailInfo.style.boxShadow = "1px 1px 8px  #b510107a";
    emailInfo.style.border = ".7px solid #b510107a";
        validate = false;

  } else {
    // Valid name
   emailInfo.style.boxShadow = "0 0 0 .2rem #007bff40";
    emailInfo.style.border = "1px solid #80bdff";
        validate = true;

  }
}
// validate phone
function validatePhone(phone) {
  const phonePattern = /^\d+$/; // Basic phone pattern
  if (phone.trim() === "") {
    // Default style when empty
    phoneInfo.style.boxShadow = "0 0 0 .2rem #007bff40";
    phoneInfo.style.border = "1px solid #80bdff";
    validate = false;

  } else if (!phonePattern.test(phone)) {
    // Invalid name
    phoneInfo.style.boxShadow = "1px 1px 8px  #b510107a";
    phoneInfo.style.border = ".7px solid #b510107a";
    validate = false;

  } else {
    // Valid name
    phoneInfo.style.boxShadow = "0 0 0 .2rem #007bff40";
    phoneInfo.style.border = "1px solid #80bdff";
    validate = true;

  }
}
feedbackInfos.addEventListener("keyup",()=>{
 if (feedbackInfos.value.trim() === "") {
       console.log("not passed");
    feedbackInfos.style.boxShadow = "1px 1px 8px  #b510107a";
    feedbackInfos.style.border = ".7px solid #b510107a";
    validate = false;

  }else{
    console.log("passed");
    feedbackInfos.style.boxShadow = "0 0 0 .2rem #007bff40";
    feedbackInfos.style.border = "1px solid #80bdff";
    validate = true;
  }
})
// // validate feedback
// function validateFeedback() {
  
  
  

// }


      // show
      function showSection(sectionNumber) {
        document
          .querySelectorAll(".section")
          .forEach((section) => section.classList.add("d-none"));
        document.getElementById("section" + sectionNumber).classList.remove("d-none");
      }
      //  next
      function nextSection(sectionNumber) {
        showSection(sectionNumber);
      }
      // prev
      function prevSection(sectionNumber) {
        showSection(sectionNumber);
      }
      //  submit
      function submitForm(event) {
        event.preventDefault(); // Prevent default form submission

        document.getElementById("name-info").innerHTML = nameInfo.value;
        document.getElementById("age-info").innerHTML = ageInfo.value;
        document.getElementById("email-info").innerHTML = emailInfo.value;
        document.getElementById("phone-info").innerHTML = phoneInfo.value;
        document.getElementById("feedback-info").innerHTML =
          feedbackInfos.value;
        if (document.getElementById("male").checked) {
          genderInfo = "Male";
        } else if (document.getElementById("female").checked) {
          genderInfo = "Female";
        } else {
          genderInfo = "not specific";
        }
        document.getElementById("gender-info").innerHTML = genderInfo;
        document.getElementById("section3").classList.add("d-none");
        document.getElementById("section4").classList.remove("d-none");
        validateFeedback();
      }
      // confirmation
      function confirmation() {
        document.getElementById("multiSectionForm").reset(); // Reset form fields
        showSection(1); // Reset to the first section
      }
    </script>

  </body>
</html>
